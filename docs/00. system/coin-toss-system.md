# 동전 던지기 시스템 기획서

> **작성일:** 2026-02-10
> **상태:** 기획

---

## Part 1: 왜 만드는가 (Why)

### 1.1 기획 배경

기존 턴제 카드게임은 매 턴 고정된 자원을 받아 전략이 정형화되기 쉽다. 동전 던지기는 **확률 자체를 코스트로** 활용하여 매 턴 다른 자원 조합을 만들고, 앞면뿐 아니라 **뒷면에도 전략적 가치**를 부여해 어떤 결과에서도 의미 있는 선택이 가능하게 한다.

뒷면 스킬의 가치는 클래스별로 다르게 설계한다:
- **도적 클래스**: 폭발형 - 세팅 후 강력한 연속기
- **공용 뒷면 스킬**: 희소성형 - 효과 작지만 유틸리티

### 1.2 해결할 문제

| 문제 | 현재 상황 | 해결 방향 |
|------|----------|----------|
| **장르 내 자원 시스템 획일화** | 대부분의 덱빌더가 고정 에너지(매 턴 3) 방식으로 유사한 플레이 경험 | 동전 던지기로 매 턴 다른 확률 기반 자원 조합 생성 |
| **후반 복잡도 부재** | 고정 자원은 게임 진행과 무관하게 구조가 동일 | 코인 개수 증가에 따라 확률 조합이 자연스럽게 복잡해짐 (3개 → 5개 → 10개) |
| **확률 게임의 무력감** | 운이 나쁘면 아무것도 못 하는 상황 발생 | 앞면/뒷면 모두 코스트로 활용 가능하게 설계 |

### 1.3 기대 효과 & 리스크

| 구분 | 내용 | 대응 방안 |
|------|------|----------|
| **기대 효과** | 고정 에너지 덱빌더와 차별화된 자원 획득 경험 | - |
| **기대 효과** | 코인 증가에 따라 확률 조합이 복잡해지며 자연스러운 난이도 곡선 | - |
| **기대 효과** | 코인 획득 자체가 성장 축 - 할 수 있는 행동이 늘어나는 체감 | - |
| **리스크** | 모든 뒷면(12.5%) 시 무력감 | 뒷면 코스트 스킬로 행동 보장 |
| **리스크** | 코인 수에 맞지 않는 스킬이 보상으로 등장 | 보상 시스템에 코인 수 기반 스킬 필터링 |
| **리스크** | 앞/뒷면 가치 동일 시 던지기가 무의미한 노동 | 면별 역할 차별화 (안정 vs 폭발) |

---

## Part 2: 무엇을 만드는가 (What)

### 2.1 한 줄 정의

> 동전 던지기 시스템은 **턴별 자원 생성**을 담당하며, **확률 기반 앞/뒷면 분리 코스트**를 통해 **매 턴 다른 전략적 판단**을 제공한다.

### 2.2 감정 설계

| 순간 | 목표 감정 | 설계 요소 |
|------|----------|----------|
| 던지기 전 | **상황별 기대감** | 현재 HP, 적 행동, 보유 스킬에 따라 원하는 면이 달라짐 |
| 결과 확인 | 앞면 多: **기회감** / 뒷면 多: **전환감** | 양쪽 모두 쓸 수 있는 스킬이 존재해야 성립 |
| 스킬 선택 | **전략적 몰입** | 한정된 코스트로 최적 스킬 조합 고민 |
| 새 코인 획득 | **성장감** | 이전에 못 쓰던 스킬을 안정적으로 쓸 수 있게 됨 |
| 동전 착지 | **청각적 만족감** | 반복 청취에도 쾌적한 사운드 디자인 필수 (불쾌 시 이탈 리스크) |
| 던지기 조작 | **부담 없는 시작** | 매 턴 반복이므로 Space 단축키 또는 자동 던지기 옵션 제공 |

**감정 설계의 핵심 과제:** "뒷면 = 절망"이 아닌 "뒷면 = 전환"이 되어야 한다. 게임 내에서 뒷면이 반가운 상황을 충분히 만들어야 이 시스템의 기획 의도가 성립한다.

### 2.3 시스템 구조

```
플레이어 턴 시작
    |
[코인 던지기] 보유 동전 전부 50% 확률로 토스
    |
[결과 표시] HUD에 앞면/뒷면 개수 표시
    |
[스킬 사용] 코인 소모하며 스킬 반복 사용 가능  <---+
    |                                              |
    +-- 코인 남아있고 쓸 스킬 있음 ----------------+
    |
[턴 종료] 플레이어가 턴 종료 버튼 클릭
    |
[적 턴] 적의 공격/방어 행동
    |
[리셋] 남은 코인 소멸, 다음 턴 시작
```

### 2.4 핵심 규칙

| 규칙 | 내용 | 예외 |
|------|------|------|
| **확률 고정** | 모든 동전은 항상 50% 확률 | 확률 조작 스킬/버프 없음 (추후 변경 가능) |
| **동전 동일** | 모든 동전은 동일 (구리/은/금 구분 없음). 성장은 개수 증가로 | - |
| **턴당 1회 토스** | 보유 동전 전부를 한 번에 던짐 | - |
| **코인 소멸** | 턴 종료 시 남은 코인 전부 사라짐 (이월 불가) | - |
| **복합 코스트** | 앞면 + 뒷면을 동시에 요구하는 스킬 가능 | - |
| **코스트 단위** | 개수 기반 (앞면 2개, 뒷면 1개 등) | - |

### 2.5 주요 수치 기준

| 항목 | 기준값 | 범위 | 비고 |
|------|--------|------|------|
| 시작 코인 | 3개 | - | 1개=노동, 3개부터 조합 의미 발생 |
| 최대 코인 | 10개 | 10~16 조정 가능 | 스킬 슬롯 수 x 평균 코스트에 따라 결정 |
| 스킬 코스트 | 앞면 or 뒷면 1~5개 | - | 복합 코스트(앞+뒤 동시) 가능 |
| 스킬 슬롯 | 시작 4개, 최대 6개 | - | 기본 스킬 3개 + 빈 슬롯 1개로 시작. 마을/상점에서 확장 |
| 턴당 스킬 사용 | 코인 남는 만큼 | - | 스킬별 턴당 사용 횟수 제한 있음 (스킬 시스템 참조) |

---

## Part 3: 어떻게 확인하는가 (Verify)

### 3.1 관련 시스템

| 시스템 | 관계 | 영향 |
|--------|------|------|
| **스킬 시스템** | 핵심 연동 | 동전 결과(앞/뒷면 개수)가 스킬 사용 가능 여부 결정 |
| **보상 시스템** | 제약 제공 | 현재 코인 개수가 제시할 스킬의 최대 코스트 상한선 |
| **전투 UI** | 표시 | 동전 결과를 HUD에 앞면/뒷면 개수로 표시 |

### 3.2 검증 기준

> 보류 - 추후 작성

### 3.3 참고 사례

> 추후 작성

---

## 기존 구현과의 차이점

이 기획서의 설계 의도와 현재 프로토타입 구현 사이에 다음 차이가 존재하며, 추후 구현 수정이 필요하다.

| 항목 | 현재 구현 | 기획 의도 | 영향 범위 |
|------|----------|----------|----------|
| 동전 종류 | 구리(1), 은(5), 금(10) | 동일 동전만 | `coins.ts`, `coinToss.ts` |
| 코스트 단위 | denomination 합산 | 개수 기반 | `skillSystem.ts`, 전체 스킬 데이터 |
| 확률 조작 | `class-design.md`에 전사 강점으로 포함 | 없음 (항상 50%, 추후 변경 가능) | 전사 차별화 대안 미정 |
| 탐욕 시스템 | `greed_stack` 버프, `seed_of_greed` 스킬 | 삭제 | `buffs/common.ts`, `warrior.ts` |

---

*작성일: 2026-02-10*
