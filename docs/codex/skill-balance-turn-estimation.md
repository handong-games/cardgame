# 스킬 밸런스: 라운드별 최소/최대 턴 예측 시스템 (설계 기록)

목적
- 스킬 추가/변경 시, 라운드별 예상 최소/최대 턴을 산출한다.
- 스킬 조합에 따른 전투 완료 턴(킬 턴)을 비교 가능하게 한다.
- 웹 시각화로 한 눈에 보이는 리포트를 제공하기 위한 기반 설계 문서다.

---

## 1) 기본 전제

### 1.1 라운드 구조
- 지역당 총 7라운드.
- 라운드 내 목표: **몬스터 HP 0 도달**.
- 라운드마다 동일 몬스터 고정이 아니라, **몬스터 후보군 중 랜덤 선택**.

### 1.2 몬스터 선택 구조
- 라운드별 선택지 개수: 1,2,4,6 라운드 2개 / 3,5 라운드 3개 / 7 라운드 1개(보스).
- “엘리트 1.5배/1.3배” 같은 문서 수치는 **사용하지 않음**.

### 1.3 코인/턴 예측 기준
- 확정 규칙이 아니라 **예상 범위**를 출력.
- **코인 최대 개수 시나리오**와 **코인 최소(1개) 시나리오**를 기준으로 최소/최대 턴을 산출.
- 스킬 조합은 결과에 함께 표시.

---

## 2) 강도 단계 (1~10)

### 2.1 공통 강도 단계
- 1 극미 / 2 매우 약함 / 3 약함 / 4 약중 / 5 보통
- 6 중강 / 7 강함 / 8 매우 강함 / 9 최상 / 10 극강

### 2.2 비선형 커브(확정)
> 성장/난이도 체감을 위해 **비선형** 매핑 사용

단계 -> 값(가중치)
- 1 -> 1.0
- 2 -> 1.3
- 3 -> 1.7
- 4 -> 2.2
- 5 -> 3.0
- 6 -> 4.0
- 7 -> 5.3
- 8 -> 7.0
- 9 -> 9.0
- 10 -> 12.0

이 값은 공격/방어/회복의 기본 기여도 계산에 사용한다.

---

## 3) 상태이상 처리(보정 계수 방식)

수치 환산 대신 “효율 보정 계수”로 처리한다.

- 중독(단계 s, N턴):
  - N턴 동안 몬스터 HP 소모 보정
  - 계수 예시: `poisonCoef = 1 + (s * 0.05)`

- 환각(앞면 -> 뒷면):
  - 해당 턴 코인 기대치 x 0.7

- 속박(방어 단계 -2):
  - 해당 턴 방어 효율 x 0.85

(계수는 추후 조정 가능)

---

## 4) 스킬 조합 규칙

- 스킬 3개: **기본 스킬만 사용**
- 스킬 4개: **기본 3개 + 추가 1개** 사용
- 스킬 5개: **전투에서 5개 모두 사용 가능**

### 스킬 획득 경로
- 몬스터 처치 보상: 확정 획득
- 상점: 구매 또는 변경
- 이벤트: 획득 가능

---

## 5) 라운드별 최소/최대 턴 산출 규칙

### 5.1 기준 시나리오
- **최소 턴**: 코인 최대 시나리오에서 최단 킬 턴
- **최대 턴**: 코인 최소(1개) 시나리오에서 최장 킬 턴

### 5.2 출력 항목
- 라운드별 최소/최대 턴 범위
- 해당 턴을 만든 **스킬 조합** 표시
- 몬스터 후보별 범위 비교 가능

---

## 6) 잊혀진 숲: 몬스터 5종 (확정)

### 6.1 가시 덩쿨 (Vine)
- 피해감소: 0
- 패턴(4턴)
  - T1: 공격 3
  - T2: 회복 5
  - T3: 공격 3 x 2회
  - T4: 공격 1 + 중독 2 (2턴, 스택 누적)

### 6.2 이끼 늑대 (Moss Wolf)
- 피해감소: 2
- 회복: 0
- 패턴(4턴)
  - T1: 공격력 +2단계(2턴)
  - T2: 공격 5
  - T3: 공격 3 x 2회
  - T4: 회피(다음 공격 1회 무효)

### 6.3 흑요 정령 (Obsidian Wisp)
- HP: 20
- 피해감소: 5
- 회복: 없음
- 패턴(3턴)
  - T1: 플레이어 공격력 -5단계(2턴)
  - T2: 방어 3 + 회복 3
  - T3: 공격 3

### 6.4 버섯 기생체 (Spore Host)
- HP: 38
- 피해감소: 0
- 패턴(4턴)
  - T1: 중독 4
  - T2: 회복 6
  - T3: 환각 4 (1턴, 앞면 -> 뒷면)
  - T4: 회복 6

### 6.5 고목 수호자 (Ancient Treant)
- HP: 46
- 피해감소: 7
- 패턴(5턴)
  - T1: 방어 6
  - T2: 공격 6
  - T3: 속박(다음 턴 플레이어 방어 사용 시 단계 -2)
  - T4: 공격 4 x 2회
  - T5: 회복 5

---

## 7) 향후 웹사이트 계획 (요구사항)

웹에서 한 눈에 확인할 수 있도록 아래 내용을 표시한다.
- 라운드별 최소/최대 턴 범위(코인 최대/최소 기준)
- 몬스터 후보별 턴 범위 비교
- 스킬 조합(킬 턴을 만든 조합) 리스트
- 상태이상 보정 적용 여부와 계수 요약
- 10단계 -> 비선형 커브 매핑 테이블 시각화

---

작성 위치: docs/codex/skill-balance-turn-estimation.md
