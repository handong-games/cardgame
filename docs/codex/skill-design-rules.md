# 스킬 설계 규칙 및 자동 검증 설계 (Draft)

목적
- 스킬 추가/삭제 시 "왜 필요한가"를 구조화해 설계 의도를 명확히 남긴다.
- 밸류(효율) 검증과 함께 의도/차별성/약점을 자동으로 점검한다.
- 설계 문서와 체크 결과를 연결해 합리적 결정을 지원한다.

범위
- 대상: 스킬(추가/삭제/수정)
- 연동: 기존 밸런스 설계 문서와 밸류 기준
- 비대상: 구현 코드 변경 (본 문서는 설계 기준만 정의)

참조 문서
- docs/design/balance-design.md
- docs/design/skill-balance-system.md
- docs/00. claude/skill-creation-workflow.md

용어 정의
- 밸류(Value): 스킬 효과를 수치화한 총 효용
- 의도 메타데이터: 스킬의 역할/빌드/강점/약점/카운터/차별성 서술
- 커버리지: 빌드/역할군별로 충분한 선택지가 존재하는지의 분포

1) 스킬 설계 규칙

1.1 의도 명시 규칙 (필수)
모든 스킬은 아래 정보를 반드시 포함한다.
- 역할(role): damage/block/heal/buff/debuff/utility
- 빌드(build): stable/burst/tails/low_hp/combo/hybrid
- 강점(strength): 빛나는 상황을 한 줄로 서술
- 약점(weakness): 약한 상황 또는 트레이드오프를 한 줄로 서술
- 카운터(counter): 이 스킬이 대응하는 적/패턴/상황
- 차별성(unique): 같은 코스트/역할 대비 고유한 선택 이유

1.2 등가 교환 규칙
- 강한 성능은 반드시 비용 또는 리스크와 연결된다.
- 비용 유형 예시: 쿨다운, 자해, 조건부 발동, 리소스 추가 소모.
- 약점(weakness)에는 위 비용 중 하나 이상이 간접 또는 직접적으로 반영되어야 한다.

1.3 상황 의존 규칙
- 항상 최선인 스킬이 없어야 한다.
- strength와 weakness는 서로 다른 상황을 전제로 한다.

1.4 차별성 규칙
- 동일 코스트/역할 스킬과 효과 구성이 유사할 경우,
  unique에 비교 기준(예: 범위, 조건부, 콤보 연계 등)을 명시한다.

1.5 빌드 커버리지 규칙
- 각 클래스는 모든 빌드 방향에서 선택지가 존재해야 한다.
- 기본 권장치: 클래스당 빌드마다 최소 2개 스킬.
  (프로토/콘텐츠 양에 맞춰 조정 가능)

1.6 동등한 가치 원칙
- 스킬 간 총 기대가치는 대체로 비슷해야 하며,
  차이는 "상황"과 "리스크"에서 발생하도록 설계한다.
- 목적:
  - 항상 최적 선택이 생기는 것을 방지
  - 교체(스왑) 시스템의 실질적 선택 가치를 보장
  - "뻔한 선택이 없는 게임" 철학과 정합성 유지

2) 자동 검증 규칙 (설계)

2.1 메타데이터 누락
- 필수 필드 누락 시 WARNING.
- strength/weakness/counter/unique가 비어있으면 WARNING.

2.2 트레이드오프 검증
- 아래 중 하나도 명시되지 않으면 WARNING:
  - 쿨다운/턴 제한/조건부/자해/추가 자원 소모
  - weakness에 명시된 기회비용

2.3 밸류 범위 검증
- 기존 밸류 기준을 그대로 적용한다.
- OK: 기준 범위 내
- WARNING: 기준 범위 밖 ±20% 이내
- FAIL: 기준 범위 밖 ±20% 초과

2.4 유사 스킬 경고
- 조건: 동일 코스트 + 동일 역할 + 주요 효과 타입 동일
- 총 밸류 차이가 10% 이내이면 "차별성 부족" 경고
- 경고 시 unique 필드로 해결 근거를 요구

2.5 빌드 커버리지 경고
- 빌드별 스킬 수가 권장치 미만일 경우 WARNING

2.6 삭제 영향 경고
- 삭제 스킬이 특정 빌드의 핵심 선택지일 경우 WARNING
- 시너지/안티시너지 목록에서 참조되는 스킬이 사라지면 WARNING

3) 결과 리포트 포맷 (설계)

3.1 요약 섹션
- 전체 스킬 수, OK/WARNING/FAIL 개수
- 빌드/역할 커버리지 요약

3.2 경고/실패 리스트
- 스킬 키, 경고 사유, 관련 규칙 번호

3.3 유사 스킬 그룹
- 유사 그룹별 후보와 차별성 요약

3.4 변경 영향 분석
- 추가/삭제로 인한 커버리지 변화
- 밸류 분포 변화 (평균/분산)

4) 스킬 추가/삭제 운영 프로세스

4.1 추가 시
- 의도 메타데이터 작성
- 밸류 계산 후 기준 통과
- 유사 스킬 경고 해소 (unique 근거 명시)

4.2 삭제 시
- 빌드 커버리지 영향 확인
- 의존 시너지/카운터 확인
- 대체 선택지 또는 조정 계획 명시

5) 의도 메타데이터 템플릿 (문서용)

스킬명: [이름]
역할(role): [damage/block/heal/buff/debuff/utility]
빌드(build): [stable/burst/tails/low_hp/combo/hybrid]
강점(strength): [빛나는 상황 한 줄]
약점(weakness): [약한 상황/트레이드오프 한 줄]
카운터(counter): [대응하는 적/패턴/상황]
차별성(unique): [동일 코스트/역할 대비 차별점]
선택(optional):
- 위험/비용(riskCost): [cooldown/self_damage/conditional/resource/none]
- 시너지(synergy): [키워드/스킬 목록]
- 안티시너지(antiSynergy): [키워드/스킬 목록]

6) 설계 선택 이유
- 의도 메타데이터 강제: 스킬 추가 이유를 구조화해 팀 합의와 검증을 쉽게 만든다.
- 등가 교환/상황 의존: 항상 최적 선택을 방지해 전략적 고민을 유도한다.
- 동등한 가치 원칙: 교체 시스템이 의미 있게 작동하도록 선택 이유를 "상황"으로 이동시킨다.
- 커버리지 규칙: 특정 빌드만 과도하게 강해지는 것을 방지한다.

7) 오픈 항목
- 빌드 커버리지 권장치(클래스별 최소 스킬 수) 확정
- 유사 스킬 판정 기준(허용 밸류 차이) 확정
- WARNING/FAIL 처리 기준에 대한 팀 합의

---
작성 위치: docs/codex/skill-design-rules.md
버전: Draft v0.2
