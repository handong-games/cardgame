# ì§€ì—­ ì‹œìŠ¤í…œ (Region System)

> ì›”ë“œë¥¼ êµ¬ì„±í•˜ëŠ” ì§€ì—­ ë‹¨ìœ„ ì‹œìŠ¤í…œ. ê° ì§€ì—­ì€ ê³ ìœ í•œ ëª¬ìŠ¤í„°, ë³´ìŠ¤, í¬ê·€ ì¹´ë“œë¥¼ ê°€ì§„ë‹¤.

---

## ê°œìš”

| í•­ëª© | ì„¤ëª… |
|------|------|
| êµ¬ì¡° | ì›”ë“œ > ì§€ì—­ > ë¼ìš´ë“œ |
| ì§€ì—­ë‹¹ ë¼ìš´ë“œ | 7ë¼ìš´ë“œ |
| íŠ¹ìˆ˜ ë¼ìš´ë“œ | ë¼ìš´ë“œ 4 (ë§ˆì„), ë¼ìš´ë“œ 7 (ë³´ìŠ¤) |

---

## íƒ€ì… ì •ì˜

**íŒŒì¼**: `types/index.ts`

```typescript
export interface Region {
  id: string;
  name: string;
  description: string;
  totalRounds: number;     // í•´ë‹¹ ì§€ì—­ì˜ ë¼ìš´ë“œ ìˆ˜
  bossKey: string;         // ë³´ìŠ¤ ì  í‚¤
}
```

---

## í˜„ì¬ ì§€ì—­

**íŒŒì¼**: `data/regions.ts`

| ì§€ì—­ ID | ì´ë¦„ | ì„¤ëª… | ë¼ìš´ë“œ | ë³´ìŠ¤ |
|---------|------|------|:------:|------|
| `forgotten_dungeon` | ìŠí˜€ì§„ ìˆ² | ì–´ë‘ ì— ì ê¸´ ê³ ëŒ€ì˜ ì§€í•˜ ê°ì˜¥ | 7 | ì•”í‘ ê¸°ì‚¬ |

### ì½”ë“œ

```typescript
export const REGIONS: Record<string, Region> = {
  forgotten_dungeon: {
    id: 'forgotten_dungeon',
    name: 'ìŠí˜€ì§„ ìˆ²',
    description: 'ì–´ë‘ ì— ì ê¸´ ê³ ëŒ€ì˜ ì§€í•˜ ê°ì˜¥. ìŠ¬ë¼ì„ê³¼ ê³ ë¸”ë¦°ì´ ì„œì‹í•œë‹¤.',
    totalRounds: 7,
    bossKey: 'dark_knight',
  },
};

export const DEFAULT_REGION_ID = 'forgotten_dungeon';
```

---

## ë¼ìš´ë“œ êµ¬ì¡°

```
ë¼ìš´ë“œ 1   â—‹   ì¼ë°˜ ì „íˆ¬
          |
ë¼ìš´ë“œ 2   â—‹   ì¼ë°˜ ì „íˆ¬
          |
ë¼ìš´ë“œ 3   â—‹   ì¼ë°˜ ì „íˆ¬ (ì„ íƒì§€ 3ê°œ)
          |
ë¼ìš´ë“œ 4  ğŸ˜ï¸  ë§ˆì„ (ì¤‘ê°„ ì§€ì )
          |
ë¼ìš´ë“œ 5   â—‹   ì¼ë°˜ ì „íˆ¬ (ì„ íƒì§€ 3ê°œ)
          |
ë¼ìš´ë“œ 6   â—‹   ì¼ë°˜ ì „íˆ¬
          |
ë¼ìš´ë“œ 7  â˜ ï¸   ë³´ìŠ¤ ì „íˆ¬
```

---

## ì§€ì—­ë³„ ìš”ì†Œ (í™•ì¥ ê³„íš)

ê° ì§€ì—­ì€ ë‹¤ìŒ ìš”ì†Œë“¤ì„ ë…ë¦½ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

| ìš”ì†Œ | ì„¤ëª… | ìƒíƒœ |
|------|------|:----:|
| ëª¬ìŠ¤í„° í’€ | ì§€ì—­ ì „ìš© ì¼ë°˜/ì—˜ë¦¬íŠ¸ ëª¬ìŠ¤í„° | ë¯¸êµ¬í˜„ |
| í¬ê·€ ì¹´ë“œ | ì§€ì—­ì—ì„œë§Œ íšë“ ê°€ëŠ¥í•œ ì¹´ë“œ | ë¯¸êµ¬í˜„ |
| ë³´ìŠ¤ | ì§€ì—­ ìµœì¢… ë³´ìŠ¤ | êµ¬í˜„ë¨ |
| ë°°ê²½/í…Œë§ˆ | ì‹œê°ì  í…Œë§ˆ | ë¯¸êµ¬í˜„ |
| BGM | ì§€ì—­ ì „ìš© ìŒì•… | ë¯¸êµ¬í˜„ |
| ì´ë²¤íŠ¸ | ì§€ì—­ ì „ìš© ëœë¤ ì´ë²¤íŠ¸ | ë¯¸êµ¬í˜„ |

---

## í™•ì¥ ì§€ì—­ (ì˜ˆì‹œ)

| ì§€ì—­ ID | ì´ë¦„ | í…Œë§ˆ | ì˜ˆìƒ ëª¬ìŠ¤í„° |
|---------|------|------|-------------|
| `cursed_forest` | ì €ì£¼ë°›ì€ ìˆ² | ë…/ìì—° | ê±°ëŒ€ ê±°ë¯¸, ë…ë²„ì„¯, ìˆ²ì˜ ë§ë ¹ |
| `volcanic_cave` | í™”ì‚° ë™êµ´ | í™”ì—¼ | ìš©ì•” ê³¨ë ˜, í™”ì—¼ ì •ë ¹, ìš©ì˜ ìƒˆë¼ |
| `frozen_peak` | ì–¼ì–´ë¶™ì€ ë´‰ìš°ë¦¬ | ë¹™ê²° | ì„œë¦¬ ëŠ‘ëŒ€, ì–¼ìŒ ë§ˆë…€, í”„ë¡œìŠ¤íŠ¸ ìì´ì–¸íŠ¸ |

---

## ëŸ° ìƒíƒœ ì—°ë™

**íŒŒì¼**: `stores/gameStore.ts`

```typescript
interface RunState {
  regionId: string;        // í˜„ì¬ ì§€ì—­ ID
  round: number;           // í˜„ì¬ ë¼ìš´ë“œ (1-7)
  totalRounds: number;     // ì´ ë¼ìš´ë“œ ìˆ˜
  isComplete: boolean;     // ëŸ° í´ë¦¬ì–´ ì—¬ë¶€
}
```

### ì´ˆê¸°í™”

```typescript
const createInitialRun = (): RunState => ({
  regionId: 'forgotten_dungeon',  // ê¸°ë³¸ ì§€ì—­
  round: 1,
  totalRounds: 7,
  isComplete: false,
});
```

---

## ê´€ë ¨ íŒŒì¼

| íŒŒì¼ | ì—­í•  |
|------|------|
| `dev/proto/src/types/index.ts` | Region íƒ€ì… ì •ì˜ |
| `dev/proto/src/data/regions.ts` | ì§€ì—­ ë°ì´í„° ì •ì˜ |
| `dev/proto/src/stores/gameStore.ts` | ëŸ° ìƒíƒœì—ì„œ ì§€ì—­ ì°¸ì¡° |
| `dev/proto/src/data/destinations.ts` | í–‰ì„ ì§€ ìƒì„± ì‹œ ì§€ì—­ ë³´ìŠ¤ í™œìš© |

---

## ê´€ë ¨ ë¬¸ì„œ

- [í–‰ì„ ì§€ ì‹œìŠ¤í…œ](./destination-system.md) - ì§€ì—­ ë‚´ ë¼ìš´ë“œ ì§„í–‰
