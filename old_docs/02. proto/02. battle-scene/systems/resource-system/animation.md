# 코인 토스 애니메이션

## 개요

코인 토스 시 동전이 흩뿌려지고 결과가 표시되는 애니메이션 정의

---

## 재생 위치

- 코인 영역 내부 (중앙)
- 방향: 버튼 → 중앙으로 동전 이동

---

## 애니메이션 흐름

### 1. 버튼 클릭
- 토스 시작 트리거
- 버튼 비활성화

### 2. 동전 흩뿌림
- 모든 동전이 화면에 흩뿌려지는 연출
- 각 동전은 이미 앞/뒤가 결정된 상태

### 3. 각 동전 착지
- 동전이 순차적으로 멈춤
- 멈출 때마다 해당 동전의 결과(앞/뒤) 확정 표시
- 앞면: 황금빛 발광
- 뒷면: 흐려지는 효과

### 4. 결과 표시/누적
- 각 동전 착지 시 코인 값이 UI에 누적 표시
- 모든 동전 착지 후 최종 코인 확정

---

## 스타일

- 추후 설정

---

## 동작 명세

### 애니메이션과 게임 흐름

- **코인 토스 후 즉시 턴 종료 가능**
  - 애니메이션 완료를 기다리지 않고 턴 종료 가능
  - 사용자가 원하는 시점에 다음 턴으로 진행 가능

- **백그라운드 애니메이션 진행**
  - 턴 종료 전까지 애니메이션은 계속 재생
  - 다른 UI 상호작용(스킬 호버 등) 시에도 애니메이션 끊김 없음
  - 각 동전 착지 시 코인 값 실시간 업데이트

- **턴 종료 시 자동 정리**
  - 턴 종료 버튼 클릭 시 진행 중인 애니메이션 자동 종료
  - 다음 턴에서 정상적으로 코인 토스 가능
  - 애니메이션 상태가 다음 턴에 영향 없음

### 구현 고려사항

- 애니메이션 시작 시점에 시작 위치 캡처 필요
- 애니메이션 데이터는 진행 중 불변 유지
- 다른 UI 업데이트가 애니메이션에 영향 주지 않도록 격리

---

## 관련 문서

- [코인 UI](./ui.md) - 코인 영역 레이아웃
- [코인 시스템](./system.md) - 코인 자원 시스템 로직
